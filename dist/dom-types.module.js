function e(e,t=''){return e.replace(/([A-Z])/g,t+'$1').toLowerCase()}function t(e,t=''){return e.split(t).map(((e,t)=>t?e[0].toUpperCase()+e.slice(1):e)).join('')}function n(e,t=!1){const n=e.replace(/\/\*(.|\s)*?\*\//g,' ').replace(/\s+/g,' ').trim();if(!n)return t?null:{};const i=n.split(';').map((e=>{const t=e.indexOf(':');return-1===t?[e.trim()]:[e.slice(0,t).trim(),e.slice(t+1).trim()]})),o={};for(const[e,n]of i)e&&n&&(o[e.replace(/\W+\w/g,(e=>e.slice(-1).toUpperCase()))]=(t=!1)||n);return t?null:o}function i(...e){const t={};for(const n of e)n&&o(n,t,' ');return Object.keys(t).join(' ')}function o(e,t,n=''){switch(typeof e){case'string':if(n)for(const i of e.split(n))i&&(t[i]=!0);else t[e]=!0;break;case'object':if(e.constructor===Object)for(const n in e)n&&e[n]&&(t[n]=!0);else for(const i of e)if(i&&'string'==typeof i)if(n)for(const e of i.split(n))e&&(t[e]=!0);else t[i]=!0}}function r(e,t){if((e=e||'')===(t=t||''))return null;const n=e.split(' '),i=t.split(' '),o={};let r=null;if(n)for(const e of n)!e||i&&i.includes(e)||(o[e]=r=!1);if(i)for(const e of i)!e||n&&n.includes(e)||(o[e]=r=!0);return null!==r?o:null}function a(e,t){const n={};let i=!1;for(const o in e){void 0!==e[o]&&void 0===t[o]&&(n[o]=void 0,i=!0)}for(const o in t){const r=t[o];e[o]!==r&&(n[o]=r,i=!0)}return i?n:null}function s(e,t,n){if(e[n]){if(!t[n])return!1;const i=e[n],o=t[n];if(i!==o){for(const e in o)if(i[e]!==o[e])return!1;for(const e in i)if(void 0===o[e]&&void 0!==i[e])return!1}}else if(t[n])return!1;return!0}function l(e,t,n){return'svg'===e||t&&void 0!==t.ownerSVGElement?document.createElementNS(n||'http://www.w3.org/2000/svg',e):document.createElement(e)}function c(e){return e&&void 0!==e.ownerSVGElement||!1}const f={innerHTML:!0,outerHTML:!0,textContent:!0,innerText:!0,outerText:!0},d={autoCapitalize:'autocapitalize',autoFocus:'autofocus',contentEditable:'contenteditable',enterKeyHint:'enterkeyhint',exportParts:'exportparts',inputMode:'inputmode',itemId:'itemid',itemProp:'itemprop',itemRef:'itemref',itemScope:'itemscope',itemType:'itemtype',popOver:'popover',spellCheck:'spellcheck',tabIndex:'tabindex',virtualKeyboardPolicy:'virtualkeyboardpolicy',writingSuggestions:'writingsuggestions',acceptCharset:'accept-charset',autoComplete:'autocomplete',autoPlay:'autoplay',bgColor:'bgcolor',colSpan:'colspan',crossOrigin:'crossorigin',dateTime:'datetime',dirName:'dirname',encType:'enctype',formAction:'formaction',formEncType:'formenctype',formMethod:'formmethod',formNoValidate:'formnovalidate',formTarget:'formtarget',hrefLang:'hreflang',httpEquiv:'http-equiv',isMap:'ismap',maxLength:'maxlength',minLength:'minlength',noValidate:'novalidate',playsInline:'playsinline',readOnly:'readonly',referrerPolicy:'referrerpolicy',rowSpan:'rowspan',srcDoc:'srcdoc',srcLang:'srclang',srcSet:'srcset',useMap:'usemap',xmlBase:'xml:base',xmlLang:'xml:lang',xmlSpace:'xml:space',xmlnsXlink:'xmlns:xlink',accentHeight:'accent-height',alignmentBaseline:'alignment-baseline',allowReorder:'allow-reorder',arabicForm:'arabic-form',baselineShift:'baseline-shift',capHeight:'cap-height',clipPath:'clip-path',clipRule:'clip-rule',colorInterpolation:'color-interpolation',colorInterpolationFilters:'color-interpolation-filters',colorRendering:'color-rendering',dominantBaseline:'dominant-baseline',fillOpacity:'fill-opacity',fillRule:'fill-rule',floodColor:'flood-color',floodOpacity:'flood-opacity',fontFamily:'font-family',fontSize:'font-size',fontSizeAdjust:'font-size-adjust',fontStretch:'font-stretch',fontStyle:'font-style',fontVariant:'font-variant',fontWeight:'font-weight',glyphName:'glyph-name',glyphOrientationHorizontal:'glyph-orientation-horizontal',glyphOrientationVertical:'glyph-orientation-vertical',horizAdvX:'horiz-adv-x',horizOriginX:'horiz-origin-x',horizOriginY:'horiz-origin-y',imageRendering:'image-rendering',letterSpacing:'letter-spacing',lightingColor:'lighting-color',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',overlinePosition:'overline-position',overlineThickness:'overline-thickness',paintOrder:'paint-order',pointerEvents:'pointer-events',shapeRendering:'shape-rendering',stopColor:'stop-color',stopOpacity:'stop-opacity',strokeDasharray:'stroke-dasharray',strokeDashoffset:'stroke-dashoffset',strokeLinecap:'stroke-linecap',strokeLinejoin:'stroke-linejoin',strokeMiterlimit:'stroke-miterlimit',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',textDecoration:'text-decoration',textRendering:'text-rendering',transformOrigin:'transform-origin',underlinePosition:'underline-position',underlineThickness:'underline-thickness',unicodeBidi:'unicode-bidi',unicodeRange:'unicode-range',unitsPerEm:'units-per-em',vAlphabetic:'v-alphabetic',vHanging:'v-hanging',vIdeographic:'v-ideographic',vMathematical:'v-mathematical',vectorEffect:'vector-effect',vertAdvY:'vert-adv-y',vertOriginX:'vert-origin-x',vertOriginY:'vert-origin-y',wordSpacing:'word-spacing',writingMode:'writing-mode',xlinkActuate:'xlink:actuate',xlinkArcrole:'xlink:arcrole',xlinkHref:'xlink:href',xlinkRole:'xlink:role',xlinkShow:'xlink:show',xlinkTitle:'xlink:title',xlinkType:'xlink:type'},u=['abort','activate','animationcancel','animationend','animationiteration','animationstart','auxclick','blur','canplay','canplaythrough','change','click','close','contextmenu','cuechange','dblclick','drag','dragend','dragenter','dragleave','dragover','dragstart','drop','durationchange','emptied','ended','error','focus','focusin','focusout','gotpointercapture','input','invalid','keydown','keypress','keyUp','load','loadeddata','loadedmetadata','loadstart','lostpointercapture','mousedown','mouseenter','mouseleave','mousemove','mouseout','mouseover','mouseup','mousewheel','pause','play','playing','pointercancel','pointerdown','pointerenter','pointerleave','pointermove','pointerout','pointerover','pointerup','progress','ratechange','repeat','reset','resize','scroll','securitypolicyViolation','seeked','seeking','select','show','stalled','submit','suspend','timeupdate','toggle','touchcancel','touchend','touchMove','touchstart','transitioncancel','transitionend','transitionrun','transitionstart','unload','volumechange','waiting','wheel'].reduce(((e,t)=>(e['on'+t]=t,e)),{});function p(e){var i;const o={};if(!(e instanceof Element))return o;for(const r of e.getAttributeNames())switch(r){case'style':{const t=n(e.style.cssText,!0);t&&(o.style=t);break}case'class':o.className=e.className;break;default:r.startsWith('data-')?(o.data=o.data||{},o.data[t(r.slice(5))]=e.getAttribute(r)):(o.attributes=o.attributes||{},o.attributes[r]=null!==(i=e.getAttribute(r))&&void 0!==i?i:void 0)}return o}function m(t,n=['img']){const i=t.def;if(!i)return'';let o=i.tag,r='';if('string'!=typeof o){if(t.children)for(const e of t.children)r+=m(e);return r}let a=null;if(o)'_'===o&&(a=i.domElement||null);else{const e=i.domContent;e&&(e instanceof Node?a=e:r+=e.toString())}if(!o&&!a)return r;let s=t.domProps||{};if(a){if(a instanceof Element&&(o=a.tagName.toLowerCase()||''),!o)return a.textContent||'';const{className:e,style:t,data:n,attributes:r}=p(i.domElement);if(e&&(s.className=s.className?s.className+' '+e:e),t){s.style=s.style||{};for(const e in t)s.style[e]=t[e]}if(n){s.data=s.data||{};for(const e in n)s.data[e]=n[e]}for(const e in r)s[e]=r[e]}const{className:l,style:c,data:d,attributes:g}=s;if(r+='<'+o,l&&(r+=' class="'+l+'"'),c){let e='';for(const t in c)e+=t+': '+c[t]+';';e&&(r+=' style="'+e+'"')}if(d)for(const t in d)r+=' data-'+e(t,'-')+'="'+d[t].toString()+'"';if(g)for(let e in g)!g[e]||f[e]||u[e.toLowerCase()]||(r+=' '+e+'="'+g[e].toString()+'"');if(t.children&&void 0!==t.children[0]||n&&!n.includes(o)){r+='>';for(const e of t.children||[])r+=m(e);r+='</'+o+'>'}else r+='/>';return r}function g(e){var i;const o={};if(e.class&&(o.className=e.className?e.class+' '+e.className:e.class),e.style){const t='string'==typeof e.style?n(e.style):e.style;for(const e in t){o.style=t;break}}e.data&&(o.data=Object.assign({},e.data));for(const n of Object.keys(e))if(u[n.toLowerCase()]){if(!e[n])continue;o.listeners||(o.listeners={}),o.listeners[n.toLowerCase()]=null!==(i=e[n])&&void 0!==i?i:void 0}else if(n.startsWith('data-'))o.data||(o.data={}),o.data[t(n.slice(5),'-')]=e[n];else{if(void 0===e[n])continue;o.attributes||(o.attributes={}),o[d[n]||n.startsWith('aria')&&!n.startsWith('aria-')&&'aria-'+n.slice(4).toLowerCase()||n]=e[n]}return o}function h(e,t){for(const n in t)if('className'===n){if((e.className||'')!==(t.className||''))return!1}else if(!s(e,t,n))return!1;for(const n in e)if(void 0===t[n]&&void 0!==e[n]&&'className'!==n)return!1;return!0}function v(e,t,n={},i=!0){var o,s;const l={},c=(n.style||t.style?1:0)|(n.data||t.data?2:0);if(c)for(const i of 1===c?['style']:2===c?['data']:['style','data']){const r=a(n[i]||{},t[i]||{});if(r&&(l[i]=r),r&&e)if('data'===i){const t=e.dataset;if(t)for(const e in r)void 0!==r[e]?t[e]=r[e]:delete t[e]}else{const t=e.style;if(t)for(const e in r)t[e]=null!==(o=r[e])&&void 0!==o?o:null}}if(void 0!==n.className||void 0!==t.className){const i=r(n.className,t.className);if(i&&(l.classNames=i),i&&e)for(const t in i)e.classList[i[t]?'add':'remove'](t)}if(n.attributes||t.attributes){const o=a(n.attributes||{},t.attributes||{});if(o&&(l.attributes=o),o&&e)for(const t in o)f[t]?i&&console.warn('Warning: Tried to apply a protected attribute: ',t,' for element: ',e):void 0===o[t]?e.removeAttribute(t):e.setAttribute(t,o[t])}if(n.listeners||t.listeners){const i=a(n.listeners||{},t.listeners||{});if(i&&(l.attributes=i),i&&e)for(const t in i){const o=null===(s=n.listeners)||void 0===s?void 0:s[t];o&&e.removeEventListener(t,o),i[t]&&e.addEventListener(t,i[t])}}for(const e in l)return l;return null}export{v as applyDOMProps,i as classNames,g as cleanDOMProps,o as collectNamesTo,l as createDOMElement,e as decapitalizeString,u as domListenerProps,d as domRenamedAttributes,f as domSkipAttributes,h as equalDOMProps,s as equalSubDictionaries,r as getClassNameDiffs,a as getDictionaryDiffs,c as isNodeSVG,n as parseDOMStyle,m as readAsString,p as readFromDOM,t as recapitalizeString};
